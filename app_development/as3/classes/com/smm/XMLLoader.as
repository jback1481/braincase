// $Id$/*var xmlObject:XML; // If you want it globalfunction loadXML(XMLFilename:String, xmlObject:XML) :void {  var XMLPath:String = "xml/";  var myXMLLoader:XMLLoader = new XMLLoader(XMLPath + XMLFilename);  myXMLLoader.addEventListener (Event.COMPLETE, makeXMLObject);    function makeXMLObject (event:Event):void {    xmlObject = myXMLLoader.p_XML;    trace (xmlObject);    numChildren = xmlObject.child("*").length();  }}*/package {  import flash.net.URLLoader;  import flash.net.URLRequest;  import flash.xml.*;  import flash.events.Event;  import flash.events.EventDispatcher;  import flash.events.IEventDispatcher;  import flash.events.IOErrorEvent;  public class XMLLoader extends EventDispatcher {    private var _importedXML:XML;    private var _loader:URLLoader;    public function XMLLoader (dataPath:String) {      var _request:URLRequest = new URLRequest(dataPath);      _loader = new URLLoader();            try {        _loader.load (_request);      } catch (error:SecurityError) {        trace ("SecurityError:");      }      _loader.addEventListener (IOErrorEvent.IO_ERROR, errorHandler);      _loader.addEventListener (Event.COMPLETE, loaderComplete);    }    private function loaderComplete (event:Event) {      try {        _importedXML = new XML(_loader.data);        dispatchEvent (new Event(Event.COMPLETE));      } catch (e:TypeError) {        trace ("XML parsing error:"+e);      }    }    private function errorHandler (e:IOErrorEvent):void {      trace ("Had problem loading the XML File. Event:"+e);    }        // Property access    public function get p_XML ():XML {      return _importedXML;    }  }}